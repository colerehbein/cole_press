/* Main SCSS file for the Dark Monospace Theme */

/*-- scss:defaults --*/

// 1. Define Custom Color Palette (Dark)
$mono-bg-dark: #1a1d21; // Dark gray, not pure black
$mono-text-dark: #ced4da; // Light gray, not pure white
$mono-accent-dark: #4dabf7; // Lighter blue for contrast
$mono-secondary-dark: #adb5bd; // Slightly lighter secondary text
$mono-code-bg-dark: #212529; // Slightly darker than bg
$mono-border-dark: #495057; // Darker border

// Terminal colors (adjusted for dark bg contrast)
$terminal-green-dark: #4ade80; // Slightly softer green
$terminal-cyan-dark: #22d3ee;
$terminal-yellow-dark: #fde047;
$terminal-red-dark: #f87171;
$terminal-purple-dark: #c084fc;
$terminal-text-dark: #e5e7eb; // Light gray for terminal text in dark mode

// Semantic colors for dark mode
$semantic-action-dark: $terminal-cyan-dark;
$semantic-success-dark: $terminal-green-dark;
$semantic-warning-dark: $terminal-yellow-dark;
$semantic-error-dark: $terminal-red-dark;
$semantic-system-dark: $terminal-purple-dark;

// 2. Bootstrap & Quarto Variable Overrides (Dark)
// Inherit font settings from light theme or redefine if needed
$font-family-base: "Anonymous Pro", monospace !default;
$font-family-monospace: "Anonymous Pro", monospace !default;
$font-family-prose:
  "Inter",
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  sans-serif;

$body-bg: $mono-bg-dark;
$body-color: $mono-text-dark;
$link-color: $mono-accent-dark;
$primary: $mono-accent-dark;
$secondary: $mono-secondary-dark;
$border-color: $mono-border-dark;

// Ensure component backgrounds adapt (may need more Bootstrap vars)
$card-bg: lighten($mono-bg-dark, 5%);
$dropdown-bg: lighten($mono-bg-dark, 7%);
$input-bg: lighten($mono-bg-dark, 3%);
$input-color: $mono-text-dark;
$input-border-color: $mono-border-dark;
//... other component background/color overrides

$headings-color: inherit !default; // Use body text color

// Quarto Code Block Variables (Dark)
$code-block-bg: $mono-code-bg-dark;
$code-color: $mono-text-dark;

// Quarto Inline Code Variables (Dark)
$code-bg: lighten($mono-bg-dark, 5%);
$code-color: $mono-text-dark;

// Quarto Callout Variables (Dark - Example: Note)
$callout-color-note: $mono-accent-dark;

/*-- scss:rules --*/

// Custom CSS Rules for Dark Theme

// Import @font-face rules
@import "fonts";

// Navbar
.navbar {
  background-color: #000;
  border-bottom: 4px solid transparent;
  background-image: linear-gradient(
    to right,
    #ff6b6b,
    #f8e71c,
    #00c9a7,
    #4dabf7,
    #a66dd4
  );
  background-size: 100% 4px;
  background-position: bottom;
  background-repeat: no-repeat;

  .navbar-brand,
  .nav-link {
    color: #ffffff !important;
  }

  .nav-link:hover,
  .nav-link:focus {
    color: lighten(#ffffff, 15%) !important;
  }
}

// Adjust rule colors if needed
h1,
h2,
h3,
h4,
h5,
h6 {
  border-bottom-color: $mono-border-dark;
}

blockquote {
  border-left-color: $mono-accent-dark;
  background-color: $mono-code-bg-dark;
  color: $mono-secondary-dark;

  footer {
    color: lighten($mono-secondary-dark, 15%);
  }
}

hr {
  border-top-color: $mono-border-dark;
}

// Table borders for dark mode
.table th,
.table td {
  border-color: $mono-border-dark;
}
.table thead th {
  border-bottom-color: $mono-border-dark;
}

// Ensure text selection contrast is good in dark mode
::selection {
  background: $mono-accent-dark;
  color: $mono-bg-dark; // Dark background for selected text
}

// ============================================================================
// DARK MODE: Semantic color overrides
// ============================================================================

.text-action {
  color: $semantic-action-dark;
}
.text-success {
  color: $semantic-success-dark;
}
.text-warning {
  color: $semantic-warning-dark;
}
.text-error {
  color: $semantic-error-dark;
}
.text-system {
  color: $semantic-system-dark;
}

.bg-action-muted {
  background-color: rgba($semantic-action-dark, 0.15);
}
.bg-success-muted {
  background-color: rgba($semantic-success-dark, 0.15);
}
.bg-warning-muted {
  background-color: rgba($semantic-warning-dark, 0.15);
}
.bg-error-muted {
  background-color: rgba($semantic-error-dark, 0.15);
}
.bg-system-muted {
  background-color: rgba($semantic-system-dark, 0.15);
}

.border-action {
  border-left-color: $semantic-action-dark;
}
.border-success {
  border-left-color: $semantic-success-dark;
}
.border-warning {
  border-left-color: $semantic-warning-dark;
}
.border-error {
  border-left-color: $semantic-error-dark;
}
.border-system {
  border-left-color: $semantic-system-dark;
}

// ============================================================================
// DARK MODE: Prose and layout adjustments
// ============================================================================

.prose-content {
  color: $mono-text-dark;

  p {
    color: $mono-text-dark;
  }

  a {
    color: $mono-accent-dark;
    text-decoration-color: rgba($mono-accent-dark, 0.3);

    &:hover {
      text-decoration-color: $mono-accent-dark;
    }
  }

  code {
    background: lighten($mono-bg-dark, 8%);
  }
}

.terminal-dense {
  background: lighten($mono-bg-dark, 3%);
}

.log-stream {
  .log-entry {
    border-bottom-color: $mono-border-dark;
  }

  .log-timestamp {
    color: $semantic-system-dark;
  }

  .log-content {
    color: $mono-text-dark;
  }

  .log-entry--success .log-content {
    color: $semantic-success-dark;
  }
  .log-entry--warning .log-content {
    color: $semantic-warning-dark;
  }
  .log-entry--error .log-content {
    color: $semantic-error-dark;
  }
  .log-entry--system .log-content {
    color: $semantic-system-dark;
  }
}

.man-page .man-nav a {
  color: $mono-secondary-dark;

  &:hover,
  &.active {
    color: $semantic-action-dark;
  }
}
// Dark mode overrides for connect section syntax highlighting
.newsletter-box,
.cli-footer {
  div.sourceCode pre.sourceCode.bash code.sourceCode {
    color: $terminal-text-dark;

    span.at,
    span.dt,
    span.kw {
      color: $terminal-text-dark;
    }
  }
}

.social-links .social-links-list {
  .social-separator {
    color: $terminal-text-dark;
  }

  a {
    color: $terminal-text-dark;

    &:hover {
      color: var(--terminal-primary);
    }
  }
}
